---

title: 对象方法
date: 2022-03-04
permalink:
categories:

- 工具函数
  tags:
- null

---

# 1. 判断两个对象是否相等

```js
function isObjectValueEqual(a, b) {
  // 判断两个对象是否指向同一内存，指向同一内存返回true
  if (a === b) return true;
  // 获取两个对象键值数组
  let aProps = Object.getOwnPropertyNames(a);
  let bProps = Object.getOwnPropertyNames(b);
  // 判断两个对象键值数组长度是否一致，不一致返回false
  if (aProps.length !== bProps.length) return false;
  // 遍历对象的键值
  for (let prop in a) {
    // 判断a的键值，在b中是否存在，不存在，返回false
    if (b.hasOwnProperty(prop)) {
      // 判断a的键值是否为对象，是则递归，不是对象直接判断键值是否相等，不相等返回false
      if (typeof a[prop] === "object") {
        if (!isObjectValueEqual(a[prop], b[prop])) return false;
      } else if (a[prop] !== b[prop]) {
        return false;
      }
    } else {
      return false;
    }
  }
  return true;
}
```

# 2. 判断两个对象是否相等，并返回不同的值

```js
function objectDifference(object, other) {
    let diff = {};
    let vChildren;
    for (var key in object) {
        if (typeOf object[key] === "object" && typeOf other[key] === "object" && object[key] && other[key]) {
            vChildren = objectDifference(object[key], other[key]);
            if (Object.keys(vChildren).length > 0) {
                diff[key] = vChildren;
            }
        } else if (object[key] !== other[key]) {
            diff[key] = object[key];
        }
    }
    return diff;
}
```
