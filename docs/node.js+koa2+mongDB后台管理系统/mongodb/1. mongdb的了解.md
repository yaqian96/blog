---
title: node.js+koa2+mongDB 后台管理系统--mongodb
date: 2022-02-08
categories:
  - mongodb
tags:
  - mongodb
---

# 1. 概念

MongoDB 是一个基于分布式文件存储的数据库,面向文档的存储的数据库。

# 2. 特点

支持的查询语言非常强大，格式是类似 JSON 的数据
高性能、易部署、易使用，存储数据非常方便

# 3.原理

数据被分组存储在数据集中，被称为一个集合（Collection)。每个集合在数据库中都有一个唯一的标识名，并且可以包含无限数目的文档。

## 1. 文档

最基本的单位。
文档中的值不仅可以是双引号中的字符串，也可以是其他的数据类型，例如，整型、布尔型等，也可以是另外一个文档，即文档可以嵌套。文档中的键类型只能是字符串。

## 2. 集合

集合就是一组文档，类似于关系数据库中的表

## 3. 数据库

MongoDB 中多个文档组成集合，多个集合组成数据库。`一个MongoDB 实例可以承载多个数据库`。它们之间可以看作相互独立，每个数据库都有独立的权限控制。存在下边的数据库。
● Admin 数据库：一个权限数据库，如果创建用户的时候将该用户添加到 admin 数据库中，那么该用户就自动继承了所有数据库的权限。
● Local 数据库：这个数据库永远不会被复制，可以用来存储本地单台服务器的任意集合。
● Config 数据库：当 MongoDB 使用分片模式时，config 数据库在内部使用，用于保存分片的信息。

## 元数据

```js
数据库的信息是存储在集合中。它们使用了系统的命名空间：
dbname.system.*
```

## mongodb 的数据类型

| 数据类型                            |                                                                                             描述 |
| ----------------------------------- | -----------------------------------------------------------------------------------------------: |
| String 字符串                       |                            存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。 |
| Integer 整型数值                    |                                       用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。 |
| Boolean 布尔值。                    |                                                                        用于存储布尔值（真/假）。 |
| Double 双精度浮点值。               |                                                                                 用于存储浮点值。 |
| Min/Max                             |                                keys 将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。 |
| Array                               |                                                           用于将数组或列表或多个值存储为一个键。 |
| Timestamp 时间戳。                  |                                                                   记录文档修改或添加的具体时间。 |
| Object                              |                                                                                   用于内嵌文档。 |
| Null                                |                                                                                   用于创建空值。 |
| Symbol 符号。                       |                 该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。 |
| Date 日期时间。                     | 用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。 |
| Object ID 对象 ID。                 |                                                                              用于创建文档的 ID。 |
| Binary Data 二进制数据。            |                                                                             用于存储二进制数据。 |
| Code 代码类型。                     |                                                               用于在文档中存储 JavaScript 代码。 |
| Regular expression 正则表达式类型。 |                                                                             用于存储正则表达式。 |
