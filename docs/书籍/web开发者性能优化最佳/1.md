---
title: web开发者性能优化最佳
date: 2021-06-15
permalink: 
categories: 
  - 性能优化
tags: 
  - null
---
# 1. 尽量减少HTTP请求
# 2. 使用CDN
# 3. 添加Expires头
# 4. 采用Gzip压缩组件
# 5. 将样式表放在顶部
# 6. 将脚本放在底部
# 7. 避免css表达式
# 8. 使用外部的js和css
# 9. 减少DNS查询
# 10. 精简js
# 11. 避免重定向
# 12. 删除重复的脚本
# 13. 配置Etag
# 14. 使用Ajax缓存
# js性能部分（1-7）
```js
1. 理解Ajax性能
  局部更新
2. 创建快速响应的Web应用
   Web Workers 定时器 内存使用(自动垃圾回收) 
   虚拟内存 
   1. 操作系统为应用提供可用的内存：物理（RAM芯片）和虚拟（海量的存储设备（硬盘）） 内存分页 
3. 拆分初始化负载
   1. 全部加载
   2. 通过拆分来节省下载量
   3. 寻找拆分
      `Doloto系统` 页面初始化和延后加载
   4. 未定义标识符和竞争状态
      拆分js代码时注意出现未定义标识符的错误
4. 无阻塞加载脚本
  1. 脚本阻塞并行下载
      内联 引用外部
  2. 让脚本运行得更好
    1. XHR Eval :XHR从服务端获取脚本，当完成响应执行eval
      缺点：脚本和主页在相同的域中
    2. XHR注入
      将XHR的响应注入script的js的
    3. script in iframe
    4. script DOM Element 
      使用script标签来下载脚本，动态创建script DOM并设置src属性
    5. script Defer
    6. document.write Script Tag
      document.write("<script type="text/javascript"> src=""></script>")
  3. 浏览器忙指示器
    让用户感知到页面它还在加载。
    状态栏、进度条、标签页图标、光标、阻塞渲染和阻塞onload事件
  4. 确保（或避免）按顺序执行
5. 整合异步脚本
  1. menu.js
  2. 竞争状态
  3. 异步加载脚本时保持执行顺序
    1. 硬编码回调
       让外部脚本调用行内代码里的函数
    2. Window Onload
       通过监听window的onload事件来触发行内代码的执行。确保外部脚本在window.onload之前下载执行就能保持执行顺序。
    3. 定时器
       使用轮询的方法来保证行内代码执行之前所依赖的外部jiao
    4. Script Onload 
    5. Degrading Script Tags
  4. 多个外部脚本
    1. Managed XHR
    2. DOM Element 和Doc Write
  5. 综合解决方案
    1. 单个脚本  Script DOM Element
    2. 多个脚本 EFWS.Script.loadScripts
  6. 显示互联网的异步加载
    1. Goolgle分析和Dojo工具包
    2. YUI Loader
6. 布置行内脚本
  1. 行内脚本阻塞并行下载
     1. 把行内脚本移至底部
     2. 异步启动执行脚本 如setTimeout
     3. script的defer属性
  2. 保持CSS和js的执行顺序
  3. 风险：把行内脚本放置在样式表之后
     1. 大部分下载不阻塞行内脚本
     2. 样式表会阻塞行内脚本
     3. 问题确曾发生 
7. 编写高效的JavaScript
  1. 管理作用域
     执行上下文、作用域链
     1. 使用局部变量
     存在于执行函数的活动对象中，作用域链最短，而全局对象则是在作用域链最后一个对象。
     2. 增长作用域链
     with try...catch
  2. 高效的数据存取
    1. 字面量值
    2. 变量
    3. 数组元素
    4. 对象属性
  3. 流控制
    1. 快速条件判断 if else 、switch
    2. 快速循环
       for循环的时候，将数组的长度定义上一个变量
       循环的位置依次递减
       展开循环：通过限制循环的次数来减少循环的开销
  4. 字符串的优化
    1. 字符串连接
       join()比+运算符更快
    2. 字符串的裁剪 
       性能最快的，去除前后空格的函数
       founction trim(text){
         text=text.replace(/^\s+/,"");
         for(var i=text.length-1;i>=0;i--){
           if(/\S/.test(test.charAt(i))){
             text=text.substring(0,i+1);
             break;
           }
         }
         return text
       }
  5. 避免运行时间过长的脚本
     1. 定时器
```
# 网络性能 （8-12）
```js
8. 可伸缩的Comet
   1. 基本
      1. 轮询
      2. 长轮询
      3. 永久帧
      4. XHR流
   2. 跨域
9. 超越Gzip压缩
10. 图像优化

```
# 浏览器性能 （13-14）