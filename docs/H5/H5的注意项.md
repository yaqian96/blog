---
title: h5开发
date: 2020-05-13
permalink:
# categories:
#   - H5
tags:
  - null
---

# html 篇

1. 常用的 meta 属性设置

```html
meta name="viewport"
content="width=device-width,initial-scale=1.0,minimun-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
```

```
<meta name="screen-orientation" content="portrait"> //Android 禁止屏幕旋转
<meta name="full-screen" content="yes">             //全屏显示
<meta name="browsermode" content="application">     //UC应用模式，使用了application这种应用模式后，页面讲默认全屏，禁止长按菜单，禁止收拾，标准排版，以及强制图片显示。
<meta name="x5-orientation" content="portrait">     //QQ强制竖屏
<meta name="x5-fullscreen" content="true">          //QQ强制全屏
<meta name="x5-page-mode" content="app">            //QQ应用模式
```

2. 电话号码识别

- 在 iOS Safari （其他浏览器和 Android 均不会）上会对那些看起来像是电话号码的数字处理为电话链接
  解决方法

```html
<meta name="format-detection" content="telephone=no" /> //关闭识别
<a href="tel:123456">123456</a> //开启识别
```

3. 邮箱识别

- 安卓上会对符合邮箱格式的字符串进行识别，我们可以通过如下的 meta 来管别邮箱的自动识别：

```html
<meta content="email=no" name="format-detection" />
<a mailto:dooyoe@gmail.com">dooyoe@gmail.com</a>
```

# css 篇

1. 0.5px 细线

   ```css
   /* 底边框 */
   .b-border {
     position: relative;
   }
   .b-border:before {
     content: "";
     position: absolute;
     left: 0;
     bottom: 0;
     width: 100%;
     height: 1px;
     background: #d9d9d9;
     -webkit-transform: scaleY(0.5);
     transform: scaleY(0.5);
     -webkit-transform-origin: 0 0;
     transform-origin: 0 0;
   }
   /* 上边框 */
   .t-border {
     position: relative;
   }
   .t-border:before {
     content: "";
     position: absolute;
     left: 0;
     top: 0;
     width: 100%;
     height: 1px;
     background: #d9d9d9;
     -webkit-transform: scaleY(0.5);
     transform: scaleY(0.5);
     -webkit-transform-origin: 0 0;
     transform-origin: 0 0;
   }
   /* 右边框 */
   .r-border {
     position: relative;
   }
   .r-border:before {
     content: "";
     position: absolute;
     right: 0;
     bottom: 0;
     width: 1px;
     height: 100%;
     background: #d9d9d9;
     -webkit-transform: scaleX(0.5);
     transform: scaleX(0.5);
     -webkit-transform-origin: 0 0;
     transform-origin: 0 0;
   }
   /* 左边框 */
   .l-border {
     position: relative;
   }
   .l-border:before {
     content: "";
     position: absolute;
     left: 0;
     bottom: 0;
     width: 1px;
     height: 100%;
     background: #d9d9d9;
     -webkit-transform: scaleX(0.5);
     transform: scaleX(0.5);
     -webkit-transform-origin: 0 0;
     transform-origin: 0 0;
   }

   /* 四条边 */
   .setBorderAll {
     position: relative;
     &:after {
       content: " ";
       position: absolute;
       top: 0;
       left: 0;
       width: 200%;
       height: 200%;
       transform: scale(0.5);
       transform-origin: left top;
       box-sizing: border-box;
       border: 1px solid #e5e5e5;
       border-radius: 4px;
     }
   }
   ```

2. 屏蔽用户选择

```css
div {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
```

3. 清除输入框内阴影

```css
div {
  -webkit-appearance: none;
}
```

4. 禁止保存对象或拷贝图像

```css
img {
  -webkit-touch-callout: none;
}
```

5. 输入框默认字体颜色

```css
input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {
  color: #c7c7c7;
}
input:-moz-placeholder,
textarea:-moz-placeholder {
  color: #c7c7c7;
}
input:-ms-input-placeholder,
textarea:-ms-input-placeholder {
  color: #c7c7c7;
}
```

6. android 系统中元素被点击时产生边框

```css
a,button,input,textarea{
  -webkit-tap-highlight-color: rgba(0,0,0,0)
  -webkit-user-modify:read-write-plaintext-only;
}
```

7. iOS 滑动不流畅

- 设置外部为 overflow:hidden,内部为 overflow: auto
- 滚动容器上增加 -webkit-overflow-scrolling: touch;

# js 篇

1. 移动端 click 屏幕产生 200-300 ms 的延迟响应
   解决方法

- fastclick 可以解决在手机上点击事件的 300ms 延迟
- zepto 的 touch 模块，tap 事件也是为了解决在 click 的延迟问题

2. audio 和 video 在 ios 和 andriod 中自动播放

```js
$("html").one("touchstart", function() {
  audio.play();
});
```

加个定时器，页面进来的时候，过几秒钟播放。

3. iOS 上拉边界下拉出现空白

```js
document.body.addEventListener(
  "touchmove",
  function(e) {
    if (e._isScroller) return;
    // 阻止默认事件
    e.preventDefault();
  },
  {
    passive: false,
  }
);
```

4. IOS 下 fixed 失效的原因

```css
.warper {
  position: absolute;
  width: 100%;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  overflow-y: scroll;
  -webkit-overflow-scrolling: touch; /* 解决ios滑动不流畅问题 */
}
.fix-bottom {
  position: fixed;
  bottom: 0;
  width: 100%;
}
```
